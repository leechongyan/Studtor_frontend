import _ from 'lodash'

import { User, UserType } from '../typings/user'

import { ApiService } from './ApiService'

const GRUMPY_CAT_PIC =
  'data:image/jpeg;base64,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'

const MOCK_USER: User = {
  email: 'someuser@ntu.edu.sg',
  profilePic: GRUMPY_CAT_PIC,
  numTutors: 123,
  numStudents: 312,
  id: '123',
  name: 'grumpy cat',
  calendarId: '123434897',
}

const USERS_ENDPOINT = 'users'
const MOCK_STUDENTS: User[] = _.range(10).map(() => MOCK_USER)
const MOCK_TUTORS: User[] = _.range(10).map(() => MOCK_USER)

const getAllUsers = (
  courseCode: string,
  userType: UserType,
): Promise<User[]> => {
  return ApiService.get(`${USERS_ENDPOINT}/${courseCode}/${userType}`).then(
    ({ data }) => data,
  )
}

export const getAllStudents = (courseCode: string): Promise<User[]> =>
  getAllUsers(courseCode, 'student').catch(() => MOCK_STUDENTS)
export const getAllTutors = (courseCode: string): Promise<User[]> =>
  getAllUsers(courseCode, 'tutor').catch(() => MOCK_TUTORS)
